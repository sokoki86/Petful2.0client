(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{25:function(e,t,n){e.exports=n(36)},26:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);n(26);var a=n(4),o=n(0),r=n.n(o),l=n(20),c=n.n(l),s=n(23),u=n(9),i=n(10),m=n(12),p=n(11),d=n(13),h=n(24),E=r.a.createContext({});function f(e){var t=Object(o.useState)(!1),n=Object(h.a)(t,2),a=n[0],l=n[1];return r.a.createElement(E.Consumer,null,(function(t){return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"homeSection"},a?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Welcome To F.I.F.O FIDO"),r.a.createElement("p",null,"We are an animal shelter dogs and cats too! We do things a little differently here. Adoption is on a first come first serve basis. If you are lucky, you may be first in line! If not, you will be put in a queue before you can take your new pet home. Additionally, the only pets up for adoption at any given time are the dog and cat who have been in our shelter the longest. First In, First Out! FIFO FIDO!")," "),a?r.a.createElement("form",{onSubmit:function(n){!function(t,n){t.preventDefault();var a=t.target.name.value;console.log(a);var o={name:a};a?(n.setName(a),n.addPeople(o),n.setError(""),console.log(n.name),e.history.push("/confirmation")):n.setError("Please enter your name")}(n,t)}},r.a.createElement("p",null,r.a.createElement("label",null,"What's your name?")),r.a.createElement("p",null,r.a.createElement("input",{name:"name",type:"text",placeholder:"John Smith"})),r.a.createElement("p",{className:"error"},t.error),r.a.createElement("button",{type:"submit"},"Find your furrever friend!")):r.a.createElement("button",{onClick:function(){return l(!0)}},"Let's start!")))}))}function g(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Choose Your Champion!"),r.a.createElement(a.b,{to:{pathname:"/dog"}},r.a.createElement("button",null,"Dogs")),r.a.createElement(a.b,{to:{pathname:"/cat"}},r.a.createElement("button",null,"Cats")))}function N(e){return r.a.createElement(E.Consumer,null,(function(e){return console.log(e),e.cats.length<1?r.a.createElement("div",null,r.a.createElement("h3",null,"No Cats left to adopt!")):r.a.createElement("div",null,r.a.createElement(a.b,{onClick:function(t){return function(e,t){t.setError("")}(0,e)},to:{pathname:"/"}},r.a.createElement("h1",null,"Cats")),r.a.createElement("h2",null,e.catNode.name),r.a.createElement("img",{src:e.catNode.imageURL,alt:e.catNode.imageDescription}),r.a.createElement("h3",null,"Descriptions:"),r.a.createElement("p",null,r.a.createElement("span",{className:"bold"},"Story: ")," ",e.catNode.story),r.a.createElement("p",null,r.a.createElement("span",{className:"bold"},"Gender: "),e.catNode.sex),r.a.createElement("p",null,r.a.createElement("span",{className:"bold"},"Age: ")," ",e.catNode.age),r.a.createElement("p",null,r.a.createElement("span",{className:"bold"},"Breed: ")," ",e.catNode.breed),e.name.length>1&&r.a.createElement("button",{onClick:function(t){return function(e,t){var n=t.cats[0],a=t.name;console.log(n),t.adoptCat(n),t.deletePeople(a),t.setError("Congratulations! You are now a pet owner"),t.setName(""),t.setCatNode(t.cats[1])}(0,e)}},"Adopt Me ?"),r.a.createElement("p",{className:"error"},e.error))}))}function b(e){return r.a.createElement(E.Consumer,null,(function(e){return console.log(e),e.dogs.length<1?r.a.createElement("div",null,r.a.createElement("h3",null,"No Dogs left to adopt!")):r.a.createElement("div",null,r.a.createElement(a.b,{onClick:function(t){return function(e,t){t.setError("")}(0,e)},to:{pathname:"/"}},r.a.createElement("h1",null,"Dogs")),r.a.createElement("h2",null,e.dogNode.name),r.a.createElement("img",{src:e.dogNode.imageURL,alt:e.dogNode.imageDescription}),r.a.createElement("h3",null,"Descriptions:"),r.a.createElement("p",null,r.a.createElement("span",{className:"bold"},"Story: "),e.dogNode.story),r.a.createElement("p",null,r.a.createElement("span",{className:"bold"},"Gender: "),e.dogNode.gender),r.a.createElement("p",null,r.a.createElement("span",{className:"bold"},"Age: ")," ",e.dogNode.age," "),r.a.createElement("p",null,r.a.createElement("span",{className:"bold"},"Breed: ")," ",e.dogNode.breed," "),e.name.length>1&&r.a.createElement("button",{onClick:function(t){return function(e,t){var n=t.dogs[0],a=t.name;console.log(n),t.adoptDog(n),t.deletePeople(a),t.setError("Congratulations! You got yourself a doggo!"),t.setName(""),t.setDogNode(t.dogs[1])}(0,e)}},"Adopt Me"),r.a.createElement("p",{className:"error"},e.error))}))}var y=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).timeout=0,n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timeout=setInterval((function(){if(e.context.people.length<5)e.context.addPeople({name:"Aran D. Omperson"});else if(e.context.people[0]===e.context.name){if("You're next!!"===e.context.error)return e.context.setError(null),void e.props.history.push("/adoption");e.context.name!==e.context.people[0]||5!==e.context.people.length||e.context.setError("You're next!!")}else{var t=e.context.people[0];e.context.deletePeople(t)}}),2500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timeout)}},{key:"render",value:function(){var e=this;return r.a.createElement(E.Consumer,null,(function(t){return console.log(t),r.a.createElement("div",null,r.a.createElement("h1",null,"You're in line!"),r.a.createElement("h3",null,"You will be redirected when you are up."),r.a.createElement("p",{className:"error"},t.error),r.a.createElement("ol",null,e.context.people.map((function(e,t){return r.a.createElement("li",{key:t},e)}))))}))}}]),t}(o.Component);y.contextType=E;var v=n(6),O=n(7),D=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={hasError:!1},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidCatch",value:function(e){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h2",null,"Error: Couldn't load page. Please refresh and try again, or come back later."):this.props.children}}]),t}(o.Component),P=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={dogs:[],cats:[],people:[],error:"",name:"",dogNode:null,catNode:null,personNode:null,getCats:function(){fetch("".concat(O.API_ENDPOINT,"/cat")).then((function(e){return e.json()})).then((function(e){n.setState({cats:e,catNode:e[0]})})).catch((function(e){console.log(e)}))},getDogs:function(){fetch("".concat(O.API_ENDPOINT,"/dog")).then((function(e){return e.json()})).then((function(e){n.setState({dogs:e,dogNode:e[0]})})).catch((function(e){console.log(e)}))},getPeople:function(){fetch("".concat(O.API_ENDPOINT,"/people")).then((function(e){return e.json()})).then((function(e){n.setState({people:e})}))},addPeople:function(e){fetch("".concat(O.API_ENDPOINT,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(){n.setState({people:[].concat(Object(s.a)(n.state.people),[e.name])})}))},deletePeople:function(){fetch("".concat(O.API_ENDPOINT,"/people"),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){n.setState({people:n.state.people.slice(1)})})).catch((function(e){throw new Error("person wasnt deleted")}))},adoptCat:function(){fetch("".concat(O.API_ENDPOINT,"/cat"),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){n.setState({cats:e})})).catch((function(e){throw new Error("cat wasnt adopted")}))},adoptDog:function(){fetch("".concat(O.API_ENDPOINT,"/dog"),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){n.setState({dogs:n.state.dogs.slice(1)})})).catch((function(e){throw new Error("dog adoption failed")}))},setCatNode:function(e){return n.setState({catNode:e})},setDogNode:function(e){return n.setState({dogNode:e})},setPeopleNode:function(e){return n.setState({peopleNode:e})},setError:function(e){return n.setState({error:e})},setName:function(e){return n.setState({name:e})}},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.state.getCats(),this.state.getDogs(),this.state.getPeople()}},{key:"render",value:function(){return r.a.createElement(E.Provider,{value:this.state},r.a.createElement(D,null,r.a.createElement("div",{className:"app"},r.a.createElement(v.a,{exact:!0,path:"/",component:f}),r.a.createElement(v.a,{path:"/adoption",component:g}),r.a.createElement(v.a,{path:"/dog",component:b}),r.a.createElement(v.a,{path:"/cat",component:N}),r.a.createElement(v.a,{path:"/confirmation",render:function(e){return r.a.createElement(y,e)}}))))}}]),t}(o.Component);c.a.render(r.a.createElement(a.a,null,r.a.createElement(P,null)),document.getElementById("root"))},7:function(e,t){e.exports={API_ENDPOINT:"https://lit-hollows-28571.herokuapp.com/api"}}},[[25,1,2]]]);
//# sourceMappingURL=main.54076600.chunk.js.map